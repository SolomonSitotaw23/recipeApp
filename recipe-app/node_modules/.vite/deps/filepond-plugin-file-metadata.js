import "./chunk-OL3AADLO.js";

// node_modules/filepond-plugin-file-metadata/dist/filepond-plugin-file-metadata.esm.js
var plugin = ({ addFilter, utils }) => {
  const { Type } = utils;
  addFilter(
    "SET_ATTRIBUTE_TO_OPTION_MAP",
    (map) => Object.assign(map, {
      "^fileMetadata": {
        group: "fileMetadataObject"
      }
    })
  );
  addFilter(
    "DID_LOAD_ITEM",
    (item, { query }) => new Promise((resolve) => {
      if (!query("GET_ALLOW_FILE_METADATA")) {
        return resolve(item);
      }
      const data = query("GET_FILE_METADATA_OBJECT");
      if (typeof data === "object" && data !== null) {
        Object.keys(data).forEach((key) => {
          item.setMetadata(key, data[key], true);
        });
      }
      resolve(item);
    })
  );
  return {
    options: {
      allowFileMetadata: [true, Type.BOOLEAN],
      fileMetadataObject: [null, Type.OBJECT]
    }
  };
};
var isBrowser = typeof window !== "undefined" && typeof window.document !== "undefined";
if (isBrowser) {
  document.dispatchEvent(
    new CustomEvent("FilePond:pluginloaded", { detail: plugin })
  );
}
var filepond_plugin_file_metadata_esm_default = plugin;

// dep:filepond-plugin-file-metadata
var filepond_plugin_file_metadata_default = filepond_plugin_file_metadata_esm_default;
export {
  filepond_plugin_file_metadata_default as default
};
/*!
 * FilePondPluginFileMetadata 1.0.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */
//# sourceMappingURL=filepond-plugin-file-metadata.js.map
